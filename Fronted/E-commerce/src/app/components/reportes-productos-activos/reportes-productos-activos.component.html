<!-- ejemplo.component.html -->
<div class="report-container">
    <div id="contenidoParaPDF">
        <!-- Encabezado del Reporte -->
        <div class="report-header">
            <div class="company-info">
                <img src="assets/logo.png" alt="Logo" class="company-logo">
                <div class="company-details">
                    <h1>Reporte de Productos Activos</h1>
                    <p class="report-date">Fecha: {{currentDate | date:'dd/MM/yyyy'}}</p>
                </div>
            </div>
            <div class="report-summary">
                <div class="summary-card">
                    <i class="pi pi-box"></i>
                    <div class="summary-details">
                        <span class="summary-label">Total Productos</span>
                        <span class="summary-value">{{listaProductosActivos.length}}</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabla de Productos -->
        <div class="card report-content">
            <div class="table-header">
                <h2>Listado de Productos</h2>
                <div class="table-actions">
                    <button pButton type="button" (click)="descargarPDF()" class="p-button-primary"
                        icon="pi pi-file-pdf" label="Generar PDF">
                    </button>
                </div>
            </div>
        </div>

        <p-table #dt [value]="listaProductosActivos" [rows]="listaProductosActivos.length" [paginator]="true"
            [globalFilterFields]="['name', 'description', 'category.name']" [tableStyle]="{ 'min-width': '75rem' }"
            [rowHover]="true" dataKey="id"  styleClass="p-datatable-gridlines" id="tableToExport">

            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="name">Producto <p-sortIcon field="name"></p-sortIcon></th>
                    <th pSortableColumn="description">Descripción <p-sortIcon field="description"></p-sortIcon></th>
                    <th pSortableColumn="categoria">Categoria <p-sortIcon field="categoria"></p-sortIcon></th>
                    <th pSortableColumn="price">Precio <p-sortIcon field="price"></p-sortIcon></th>
                    <th pSortableColumn="stock">Stock <p-sortIcon field="stock"></p-sortIcon></th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-person>
                <tr>
                    <td>{{person.nombre}}</td>
                    <td>{{person.descripcion}}</td>
                    <td>{{person.nombreCategoria}}</td>
                    <td>{{person.precio}}</td>
                    <td>{{person.cantidadDisponible}}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>

    <div class="report-footer">
        <p>Este reporte fue generado automáticamente por el sistema.</p>
        <p>© {{currentDate | date:'yyyy'}} Tu Empresa - Todos los derechos reservados</p>
    </div>
</div>

